<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Configura√ß√µes | Lucid</title>
  <meta name="description" content="Configura√ß√µes e Perfil - Gerencie suas informa√ß√µes e prefer√™ncias.">
  
  <!-- Preconnect para performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- CSS -->
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/theme.css">
  <link rel="stylesheet" href="styles/configuracoes.css">
</head>
<body class="configuracoes-page">

  <!-- Header -->
  <header class="config-header-bar">
    <div class="config-header-content">
      <div class="config-logo">
        <a href="portal.html">
          <h1>LUCID</h1>
        </a>
        <span class="config-badge">Configura√ß√µes</span>
      </div>
      
      <nav class="config-nav">
        <a href="portal.html" class="nav-link">
          <i class="fas fa-home"></i>
          <span>Portal</span>
        </a>
        <button id="themeToggle" class="btn-theme" title="Alternar tema">
          <span class="theme-icon" id="themeIcon">üåô</span>
        </button>
        <span class="user-info" id="userInfo"></span>
        <button id="logoutBtn" class="btn-logout">Sair</button>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="config-main">
    <div class="config-wrapper">
      
      <!-- Page Title -->
      <div class="config-title">
        <h1><i class="fas fa-user-cog"></i> Configura√ß√µes e Perfil</h1>
        <p>Gerencie suas informa√ß√µes pessoais, prefer√™ncias e configura√ß√µes da conta</p>
      </div>

      <!-- Tabs -->
      <div class="config-tabs">
        <button class="tab-btn active" data-tab="perfil">
          <i class="fas fa-user"></i>
          <span>Perfil</span>
        </button>
        <button class="tab-btn" data-tab="seguranca">
          <i class="fas fa-lock"></i>
          <span>Seguran√ßa</span>
        </button>
        <button class="tab-btn" data-tab="preferencias">
          <i class="fas fa-cog"></i>
          <span>Prefer√™ncias</span>
        </button>
        <button class="tab-btn" data-tab="conta">
          <i class="fas fa-info-circle"></i>
          <span>Conta</span>
        </button>
      </div>

      <!-- Tab Content: Perfil -->
      <section id="tab-perfil" class="tab-panel active">
        <div class="panel-card">
          <div class="card-header">
            <h2><i class="fas fa-user"></i> Perfil</h2>
            <p>Suas informa√ß√µes pessoais</p>
          </div>
          
          <form id="profileForm" class="form">
            <div class="form-group">
              <label for="profileName">Nome Completo</label>
              <input type="text" id="profileName" name="name" placeholder="Seu nome completo">
            </div>
            
            <div class="form-group">
              <label for="profileEmail">Email</label>
              <input type="email" id="profileEmail" name="email" required readonly>
              <small>O email n√£o pode ser alterado</small>
            </div>
            
            <div class="form-footer">
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i>
                Salvar Altera√ß√µes
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Tab Content: Seguran√ßa -->
      <section id="tab-seguranca" class="tab-panel">
        <div class="panel-card">
          <div class="card-header">
            <h2><i class="fas fa-lock"></i> Seguran√ßa</h2>
            <p>Altere sua senha</p>
          </div>
          
          <form id="passwordForm" class="form">
            <div class="form-group">
              <label for="currentPassword">Senha Atual</label>
              <input type="password" id="currentPassword" name="currentPassword" required>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="newPassword">Nova Senha</label>
                <input type="password" id="newPassword" name="newPassword" required minlength="6">
                <small>M√≠nimo de 6 caracteres</small>
              </div>
              
              <div class="form-group">
                <label for="confirmPassword">Confirmar Nova Senha</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required minlength="6">
              </div>
            </div>
            
            <div class="form-footer">
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-key"></i>
                Alterar Senha
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Tab Content: Prefer√™ncias -->
      <section id="tab-preferencias" class="tab-panel">
        <div class="panel-card">
          <div class="card-header">
            <h2><i class="fas fa-cog"></i> Prefer√™ncias</h2>
            <p>Personalize sua experi√™ncia</p>
          </div>
          
          <form id="preferencesForm" class="form">
            <div class="form-row">
              <div class="form-group">
                <label for="prefTheme">Tema</label>
                <select id="prefTheme" name="theme">
                  <option value="dark">üåô Escuro (Padr√£o)</option>
                  <option value="light">‚òÄÔ∏è Claro</option>
                  <option value="auto">üîÑ Autom√°tico (Seguir sistema)</option>
                </select>
                <small>Escolha o tema preferido da interface</small>
              </div>
              
              <div class="form-group">
                <label for="prefLanguage">Idioma</label>
                <select id="prefLanguage" name="language">
                  <option value="pt-BR">üáßüá∑ Portugu√™s (Brasil)</option>
                  <option value="en-US">üá∫üá∏ English (US)</option>
                  <option value="es-ES">üá™üá∏ Espa√±ol</option>
                </select>
                <small>Idioma da interface</small>
              </div>
            </div>
            
            <div class="form-group">
              <label class="checkbox">
                <input type="checkbox" id="prefNotifications" name="notifications" checked>
                <span>Receber notifica√ß√µes por email</span>
              </label>
              <small>Notifica√ß√µes sobre projetos, leads e atividades importantes</small>
            </div>
            
            <div class="form-group">
              <label class="checkbox">
                <input type="checkbox" id="prefWeeklyReport" name="weeklyReport">
                <span>Receber relat√≥rio semanal</span>
              </label>
              <small>Resumo semanal das atividades e m√©tricas</small>
            </div>
            
            <div class="form-footer">
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i>
                Salvar Prefer√™ncias
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Tab Content: Conta -->
      <section id="tab-conta" class="tab-panel">
        <div class="panel-card">
          <div class="card-header">
            <h2><i class="fas fa-info-circle"></i> Informa√ß√µes da Conta</h2>
            <p>Detalhes da sua conta</p>
          </div>
          
          <div class="info-list">
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-calendar"></i>
                <span>Membro desde</span>
              </div>
              <div class="info-value" id="accountCreatedAt">-</div>
            </div>
            
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-envelope"></i>
                <span>Email</span>
              </div>
              <div class="info-value" id="accountEmail">-</div>
            </div>
            
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-shield-alt"></i>
                <span>Status da Conta</span>
              </div>
              <div class="info-value">
                <span class="badge badge-success">‚úÖ Ativa</span>
              </div>
            </div>
            
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-key"></i>
                <span>Provedor de Autentica√ß√£o</span>
              </div>
              <div class="info-value" id="accountProvider">-</div>
            </div>
          </div>
        </div>

        <!-- Danger Zone -->
        <div class="panel-card danger-zone">
          <div class="card-header">
            <h2><i class="fas fa-exclamation-triangle"></i> Zona de Perigo</h2>
            <p>A√ß√µes irrevers√≠veis</p>
          </div>
          
          <div class="danger-actions">
            <div class="danger-item">
              <div class="danger-info">
                <h3>Limpar Dados Locais</h3>
                <p>Remove todos os dados salvos localmente (localStorage). Isso n√£o afeta os dados no servidor.</p>
              </div>
              <button id="btnClearLocalData" class="btn btn-danger">
                <i class="fas fa-trash"></i>
                Limpar
              </button>
            </div>
            
            <div class="danger-item">
              <div class="danger-info">
                <h3>Exportar Dados</h3>
                <p>Exporte todos os seus dados em formato JSON para backup.</p>
              </div>
              <button id="btnExportData" class="btn btn-secondary">
                <i class="fas fa-download"></i>
                Exportar
              </button>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script src="scripts/supabase-config.js"></script>
  <script src="scripts/app-config.js"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/configuracoes.js"></script>
</body>
</html>
